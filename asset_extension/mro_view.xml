<openerp>
	<data>

        <record id="mro_request_asset_extension_form" model="ir.ui.view">
            <field name="name">mro.request.form</field>
            <field name="model">mro.request</field>
			<field name="inherit_id" ref="mro.mro_request_form_view"/>
            <field name="arch" type="xml">
				<field name="breakdown" position="replace"/>
				<field name="execution_date" position="replace"/>	
				<field name="cause" position="replace"/>

				<field name="requested_date" position="after">
					<field name="cause"/>
					<field name="hospital_id" context="{'form_view_ref': 'res_partner_hospital.view_partner_hospital_form'}"/>
					<field name="department_ids"/>
				</field>
				<field name="requested_date" position="replace"/>
				<field name="asset_id" position="after">
                    <field name="requested_date" attrs="{'invisible':[('breakdown','=',True),('state','=','draft')],'readonly':[('state','!=','draft')]}" on_change="onchange_requested_date(requested_date)"/>
                    <field name="execution_date" on_change="onchange_execution_date(execution_date,state,breakdown)" invisible="1"/>
					<field name="breakdown" invisible="1"/>
					<field name="type" readonly="1"/>
				</field>

				<group string="Description" position="replace"/>

				<group string="Reject Reason" position="after">
					<notebook>
						<page string="Information">
							<group col="4" attrs="{'invisible': [('state','not in',('run','done'))]}">
								<field name="technician_id" attrs="{'readonly':[('state','=','done')]}"/>
								<field name="diagnostic" attrs="{'readonly':[('state','=','done')]}"/>
								<field name="resolution_date" attrs="{'readonly':[('state','=','done')]}"/>
								<field name="resolution" attrs="{'readonly':[('state','=','done')]}"/>
								<field name="delivery_date" attrs="{'readonly':[('state','=','done')]}"/>
							</group>
							<group string="Description">
								<field name="description" colspan="4" nolabel="1"/>
							</group>
						</page>
					</notebook>
				</group>
								
			</field>
		</record>


			
        <record id="mro_order_form_view" model="ir.ui.view">
            <field name="name">mro.order.form</field>
            <field name="model">mro.order</field>
			<field name="inherit_id" ref="mro.mro_order_form_view"/>
            <field name="arch" type="xml">		
				<field name="maintenance_type" position="attributes">
					<attribute name="invisible">True</attribute>
				</field>
				<field name="description" position="after">
					<field name="type" readonly="1"/>
					<field name="technician_id" required="1"/>
				</field>
				<field name="date_execution" position="replace">
					<field name="date_execution" on_change="onchange_execution_date(date_execution,state)" attrs="{'invisible':[('state','in',('draft','released','cancel'))]}"/>
				</field>
			</field>
		</record>

	</data>
</openerp>
